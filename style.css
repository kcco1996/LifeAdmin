:root{
  --bg: #0f1115;
  --panel: #141824;
  --panel-2: #171c2b;
  --text: #e7eaf2;
  --muted: #a7afc0;

  --accent: #ff8a1f;
  --accent-2: #ffb26b;

  --border: rgba(255,255,255,0.08);
  --border-2: rgba(255,255,255,0.12);
  --shadow: 0 12px 30px rgba(0,0,0,0.35);

  --radius: 16px;
  --radius-sm: 12px;

  --ok: #38d996;
  --warn: #ffb020;
  --danger: #ff5b5b;
  --neutral: #7f8aa3;

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";

  --focus-ring: 0 0 0 3px rgba(255,138,31,0.12);

  /* Life Skills status tints */
  --status-not-bg: rgba(127,138,163,0.14);
  --status-not-bd: rgba(127,138,163,0.32);
  --status-learning-bg: rgba(255,176,32,0.14);
  --status-learning-bd: rgba(255,176,32,0.34);
  --status-conf-bg: rgba(56,217,150,0.14);
  --status-conf-bd: rgba(56,217,150,0.34);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: var(--font);
  color: var(--text);
  background:
    radial-gradient(900px 500px at 18% 18%, rgba(255,138,31,0.12), transparent 70%),
    radial-gradient(800px 500px at 80% 30%, rgba(255,178,107,0.10), transparent 65%),
    var(--bg);
}

.app{
  display:flex;
  min-height:100vh;
}

/* Sidebar */
.sidebar{
  width: 280px;
  background: linear-gradient(180deg, rgba(255,138,31,0.08), transparent 35%), var(--panel);
  border-right: 1px solid var(--border);
  padding: 18px;
  position: sticky;
  top: 0;
  height: 100vh;
}

.brand{
  display:flex;
  align-items:center;
  gap: 12px;
  padding: 10px 10px 14px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 14px;
}
.brand__mark{
  width: 42px;
  height: 42px;
  border-radius: 12px;
  display:grid;
  place-items:center;
  background: rgba(255,138,31,0.12);
  border: 1px solid rgba(255,138,31,0.22);
  box-shadow: 0 10px 18px rgba(0,0,0,0.25);
}
.brand__text{ min-width: 0; }
.brand__name{ font-weight: 800; letter-spacing: .2px; }
.brand__tag{ font-size: 12px; color: var(--muted); margin-top: 2px; }

.nav{
  display:flex;
  flex-direction:column;
  gap: 8px;
  padding: 6px 0;
}
.nav__item{
  width:100%;
  border: 1px solid transparent;
  background: transparent;
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  display:flex;
  align-items:center;
  gap: 10px;
  cursor:pointer;
  transition: transform 0.12s ease, background 0.12s ease, border-color 0.12s ease;
  text-align:left;
}
.nav__item:hover{
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.06);
  transform: translateY(-1px);
}
.nav__item.is-active{
  background: rgba(255,138,31,0.12);
  border-color: rgba(255,138,31,0.25);
}
.nav__icon{
  width: 22px;
  display:inline-grid;
  place-items:center;
}
.nav__label{
  font-weight: 650;
  letter-spacing: .1px;
}

.sidebar__footer{
  margin-top: auto;
  display:flex;
  flex-direction:column;
  gap: 8px;
  padding-top: 16px;
  border-top: 1px solid var(--border);
  position: absolute;
  left: 18px;
  right: 18px;
  bottom: 18px;
}

/* Main */
.main{
  flex:1;
  padding: 18px;
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px 14px;
  box-shadow: var(--shadow);
}

.topbar__left{
  display:flex;
  align-items:flex-start;
  gap: 14px;
  min-width: 0;
}

.page-title{
  margin: 0;
  font-size: 20px;
  letter-spacing: .2px;
}
.page-subtitle{
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 13px;
  max-width: 62ch;
}

.topbar__right{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-shrink: 0;
}

.content{ margin-top: 16px; }

/* Grid / cards */
.grid{
  display:grid;
  gap: 14px;
}

.grid--stats{
  grid-template-columns: repeat(4, minmax(0, 1fr));
  margin-bottom: 14px;
}

.grid--panels{
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid--rooms{
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-bottom: 14px;
}

.admin-panels{ align-items: start; }
.admin-alerts{ grid-column: 1 / -1; }

.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)), var(--panel-2);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: var(--shadow);
}

.card--stat .card__label{ color: var(--muted); font-size: 12px; }
.card--stat .card__value{ font-size: 18px; font-weight: 800; margin-top: 6px; }
.card--stat .card__hint{ margin-top: 6px; font-size: 12px; color: var(--muted); }

.card__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}
.card__title{
  margin: 0;
  font-size: 14px;
  letter-spacing: .2px;
}

.muted{ color: var(--muted); font-size: 13px; margin: 0; }
.muted--pad{ margin-top: 8px; }

/* Lists */
.list{
  list-style:none;
  padding: 0;
  margin: 0;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.list__item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(0,0,0,0.12);
  position: relative;
  overflow: hidden;
}

.list__item::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width:4px;
  background: transparent;
  opacity: 0.95;
}

.list__item--red::before{ background: var(--danger); }
.list__item--amber::before{ background: var(--warn); }
.list__item--green::before{ background: var(--ok); }
.list__item--neutral::before{ background: rgba(127,138,163,0.8); }

.list__item.is-archived{ opacity: 0.72; }

.list__main{ min-width: 0; }
.list__title{
  font-weight: 700;
  font-size: 13px;
  overflow-wrap: anywhere;
  word-break: break-word;
}
.list__meta{ color: var(--muted); font-size: 12px; margin-top: 2px; }

.row-actions{
  display:flex;
  align-items:center;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

/* Badges */
.badge{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
  color: var(--text);
  white-space: nowrap;
}

.badge--ok{ border-color: rgba(56,217,150,0.35); background: rgba(56,217,150,0.12); }
.badge--warn{ border-color: rgba(255,176,32,0.35); background: rgba(255,176,32,0.12); }
.badge--danger{ border-color: rgba(255,91,91,0.40); background: rgba(255,91,91,0.14); }
.badge--neutral{ border-color: rgba(127,138,163,0.35); background: rgba(127,138,163,0.12); }

/* Progress */
.progress{
  width:100%;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.08);
  overflow:hidden;
}
.progress__bar{
  height:100%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  border-radius: 999px;
}

/* Buttons */
.primary-btn{
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06)), var(--accent);
  border: 1px solid rgba(255,138,31,0.35);
  color: #111;
  font-weight: 800;
  padding: 10px 14px;
  border-radius: 12px;
  cursor:pointer;
  transition: transform 0.15s ease, filter 0.15s ease;
}
.primary-btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }
.primary-btn:active{ transform: translateY(0); }

.ghost-btn{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 12px;
  cursor:pointer;
  text-align:left;
  transition: background 0.15s ease, border-color 0.15s ease;
}
.ghost-btn:hover{
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.12);
}

.icon-btn{
  width: 44px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  cursor:pointer;
  display:grid;
  place-items:center;
  transition: background 0.15s ease, border-color 0.15s ease;
}
.icon-btn:hover{
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.12);
}

.icon-btn--sm{ width: 40px; height: 40px; }

.mini-btn{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.10);
  color: var(--text);
  padding: 6px 10px;
  border-radius: 10px;
  cursor:pointer;
  font-size: 12px;
  transition: background 0.15s ease, border-color 0.15s ease;
}
.mini-btn:hover{ background: rgba(255,255,255,0.06); }

.mini-btn--danger{ border-color: rgba(255,91,91,0.30); }
.mini-btn--danger:hover{
  background: rgba(255,91,91,0.10);
  border-color: rgba(255,91,91,0.38);
}

/* Pill status */
.pill{
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.15);
  color: var(--text);
  font-size: 13px;
}
.dot{ width: 10px; height: 10px; border-radius: 50%; }
.dot--green{ background: var(--ok); }
.dot--amber{ background: var(--warn); }
.dot--red{ background: var(--danger); }

/* Room cards */
.room-card{
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)), var(--panel-2);
  border: 1px solid rgba(255,138,31,0.18);
  border-radius: var(--radius);
  padding: 16px;
  cursor:pointer;
  text-align:left;
  box-shadow: var(--shadow);
  transition: transform 0.15s ease, border-color 0.15s ease;
}
.room-card:hover{ transform: translateY(-1px); border-color: rgba(255,138,31,0.30); }
.room-card__title{ font-weight: 850; letter-spacing: .2px; }
.room-card__meta{ margin-top: 6px; color: var(--muted); font-size: 12px; }

/* Views */
.view{ display:none; }
.view.is-visible{ display:block; }

/* Focus */
input, select, textarea{ font-family: inherit; }
*:focus-visible{
  outline: none;
  box-shadow: var(--focus-ring);
  border-color: rgba(255,138,31,0.35) !important;
  border-radius: 12px;
}

/* ===== Life Admin Controls Row (tidy) ===== */
.admin-controls{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 14px;
  margin: 10px 0 14px;
  align-items: start;
}

.admin-controls__left{
  min-width: 0;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.admin-controls__right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap: 10px;
  flex-wrap: wrap;
  padding-top: 2px;
}

@media (max-width: 860px){
  .admin-controls{ grid-template-columns: 1fr; }
  .admin-controls__right{ justify-content:flex-start; }
}

/* Search */
.search{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.03);
  box-shadow: 0 8px 22px rgba(0,0,0,0.35);
  max-width: 520px;
}
.search__icon{ opacity:.75; font-size: 14px; }
.search__input{
  width:100%;
  border:0;
  outline:none;
  background:transparent;
  color: var(--text);
  font-size: 13px;
}
.search__input::placeholder{ color: rgba(255,255,255,0.45); }
.search:has(.search__input:focus){
  border-color: rgba(255,138,31,0.35);
  box-shadow: 0 0 0 3px rgba(255,138,31,0.12), 0 10px 30px rgba(0,0,0,0.45);
}

/* Chips */
.chips{ display:flex; flex-wrap:wrap; gap: 8px; }
.chip{
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  font-size: 12px;
  cursor:pointer;
  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
}
.chip:hover{ background: rgba(255,255,255,0.06); transform: translateY(-1px); }
.chip.is-active{
  border-color: rgba(255,138,31,0.35);
  background: rgba(255,138,31,0.10);
  box-shadow: 0 0 0 3px rgba(255,138,31,0.10);
}

/* Toggle */
.toggle{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  user-select:none;
}
.toggle input{ display:none; }
.toggle__box{
  width: 16px;
  height: 16px;
  border-radius: 4px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
  position: relative;
}
.toggle input:checked + .toggle__box{
  border-color: rgba(255,138,31,0.35);
  box-shadow: 0 0 0 3px rgba(255,138,31,0.10);
}
.toggle input:checked + .toggle__box::after{
  content:"";
  position:absolute;
  inset: 3px;
  border-radius: 2px;
  background: rgba(255,138,31,0.85);
}
.toggle__label{ font-size: 12px; color: rgba(255,255,255,0.78); }

/* Selects */
.select select{
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  outline:none;
  font-size: 12px;
}
.select select:focus{
  border-color: rgba(255,138,31,0.35);
  box-shadow: 0 0 0 3px rgba(255,138,31,0.10);
}

.ghost-btn--sm{
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 12px;
}

/* ===== Modal (your structure) ===== */
.modal{ display:none; }
.modal.is-open{ display:block; }

.modal__backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  z-index: 9999;
}

.modal__dialog{
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(720px, calc(100% - 24px));
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01)), var(--panel);
  box-shadow: 0 18px 60px rgba(0,0,0,0.60);
  overflow:hidden;
  z-index: 10000;
}

.modal__header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding: 14px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

.form{ padding: 14px; }
.form__row{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  margin-bottom: 12px;
}
.field{ display:flex; flex-direction:column; gap: 6px; }
.field__label{ font-size: 12px; color: var(--muted); }

.field__control{
  width:100%;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.18);
  color: var(--text);
}

.form__actions{
  display:flex;
  justify-content:flex-end;
  gap: 10px;
  padding-top: 6px;
}

@media (max-width: 820px){
  .grid--stats{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .grid--panels{ grid-template-columns: 1fr; }
  .grid--rooms{ grid-template-columns: 1fr; }

  .sidebar{
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    transform: translateX(-105%);
    transition: transform 0.2s ease;
    z-index: 50;
  }
  .sidebar.is-open{ transform: translateX(0); }

  .main{ padding: 14px; }

  .topbar{ align-items:flex-start; flex-direction: column; }
  .topbar__right{ width:100%; justify-content:space-between; }

  .form__row{ grid-template-columns: 1fr; }
}

/* ================================
   Dropdown/menu visibility fixes
   ================================ */

/* Outside modal: dark system UI */
select:not(#modal select),
input:not(#modal input),
textarea:not(#modal textarea){
  color-scheme: dark;
}

/* Make dropdown option menus readable */
select:not(#modal select) option{
  background: #0f1115;
  color: #e7eaf2;
}

/* Modal: light fields, black text */
#modal .field__control,
#fundModal .field__control,
#homeItemModal .field__control,
#skillModal .field__control,
#lifeSkillModal .field__control{
  background: rgba(255,255,255,0.92) !important;
  color: #0b0d12 !important;
  border-color: rgba(0,0,0,0.18) !important;
}

#homeItemModal .field__control::placeholder{
  color: rgba(11, 13, 18, 0.50) !important;
}

#homeItemModal select.field__control{ color-scheme: light; }
#homeItemModal select.field__control option{ background: #ffffff; color: #0b0d12; }

#modal .field__control::placeholder,
#fundModal .field__control::placeholder,
#skillModal .field__control::placeholder,
#lifeSkillModal .field__control::placeholder{
  color: rgba(11, 13, 18, 0.50) !important;
}

#modal input[type="date"].field__control{ color-scheme: light; }
#modal select.field__control{ color-scheme: light; }
#modal select.field__control option{ background: #ffffff; color: #0b0d12; }

#fundModal select.field__control{ color-scheme: light; }
#fundModal select.field__control option{ background: #ffffff; color: #0b0d12; }

#skillModal select.field__control,
#lifeSkillModal select.field__control{ color-scheme: light; }
#skillModal select.field__control option,
#lifeSkillModal select.field__control option{ background: #ffffff; color: #0b0d12; }

/* Hidden cards fully disappear */
[hidden]{ display:none !important; }

.money-summary{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 10px;
}

.money-chip{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
  color: var(--text);
}

.money-actions{
  display:flex;
  justify-content:flex-end;
  margin-bottom: 10px;
}

.fund-meta{
  display:flex;
  flex-direction:column;
  gap: 6px;
  min-width: 220px;
}

.fund-row{
  display:flex;
  flex-direction:column;
  gap: 8px;
}

.fund-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}

.fund-name{
  font-weight: 800;
  letter-spacing: .1px;
  font-size: 13px;
}

.fund-sub{
  color: var(--muted);
  font-size: 12px;
}

.fund-actions{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

/* =========================
   Part C: Tools modal helpers
   ========================= */

.money-summary{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.money-chip{
  font-size: 12px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  white-space: nowrap;
}

#toolsModal .card{
  box-shadow: none;
}

#toolsModal .modal__dialog{
  width: min(820px, calc(100% - 24px));
}

/* =========================
   Part D: Next Steps styles
   ========================= */

/* Wrapper so the card area feels consistent */
#nextStepsWrap{
  display: grid;
  gap: 14px;
}

/* If you place Today + Week side-by-side in a grid */
.next-steps-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

/* On smaller screens stack */
@media (max-width: 860px){
  .next-steps-grid{
    grid-template-columns: 1fr;
  }
}

/* Tag pill used in your JS: <span class="nextstep-tag">Life Admin</span> */
.nextstep-tag{
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
  color: rgba(255,255,255,0.80);
  white-space: nowrap;
}

/* Make Next Steps rows feel “actionable” */
#nextStepsWrap .list__item{
  background: rgba(0,0,0,0.10);
}

/* Slightly tighter meta line in next steps */
#nextStepsWrap .list__meta{
  line-height: 1.35;
}

/* Keep the “Open/Go” buttons aligned nicely in Next Steps */
#nextStepsWrap .row-actions{
  gap: 8px;
}

/* Optional: differentiate Today vs Week a bit more */
#nextStepsWrap #nextStepsToday .list__item{
  border-color: rgba(255,176,32,0.18);
}

#nextStepsWrap #nextStepsWeek .list__item{
  border-color: rgba(56,217,150,0.18);
}

/* Future Home room detail */
#roomPanel .card { box-shadow: none; }
#roomPanel .card__title { font-size: 16px; }

.list__meta .pill-note{
  margin-left: 6px;
  font-size: 12px;
  color: rgba(255,255,255,0.78);
}

#roomsGrid{
  display: grid;
  gap: 14px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-bottom: 14px;
}

@media (max-width: 820px){
  #roomsGrid{ grid-template-columns: 1fr; }
}

.inline-add{
  display:flex;
  gap: 10px;
  align-items:center;
}

.inline-add .field__control{
  padding: 9px 12px;
  border-radius: 12px;
}

.inline-add .mini-btn{
  padding: 9px 12px;
  border-radius: 12px;
  white-space: nowrap;
}

@media (max-width: 820px){
  .inline-add{
    flex-direction: column;
    align-items: stretch;
  }
}

#homeItemModal input[type="checkbox"]{
  width: 18px;
  height: 18px;
  accent-color: var(--accent);
}

/* =========================
   Part F: Life Skills Tracker
   ========================= */

/* Page section wrapper (safe if you use it) */
.skills-wrap{
  display: grid;
  gap: 14px;
}

/* Category cards grid */
.skills-categories{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
}

@media (max-width: 1020px){
  .skills-categories{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 820px){
  .skills-categories{
    grid-template-columns: 1fr;
  }
}

/* Category card */
.skill-cat{
  text-align:left;
  cursor:pointer;
  padding: 16px;
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.08);
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)), var(--panel-2);
  box-shadow: var(--shadow);
  transition: transform 0.15s ease, border-color 0.15s ease, background 0.15s ease;
}
.skill-cat:hover{
  transform: translateY(-1px);
  border-color: rgba(255,138,31,0.28);
}

.skill-cat__top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.skill-cat__name{
  margin: 0;
  font-size: 14px;
  letter-spacing: .2px;
  font-weight: 850;
}
.skill-cat__counts{
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  white-space: nowrap;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.12);
  padding: 6px 10px;
  border-radius: 999px;
}

.skill-cat__hint{
  margin: 8px 0 0;
  font-size: 12px;
  color: var(--muted);
  line-height: 1.35;
}

/* Category progress spacing */
.skill-cat .progress{ margin-top: 10px; }

/* Category detail header row */
.skills-detail-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.skills-detail-title{
  display:flex;
  flex-direction:column;
  gap: 4px;
  min-width: 0;
}
.skills-detail-title h2{
  margin: 0;
  font-size: 16px;
  letter-spacing: .2px;
}
.skills-detail-title p{
  margin: 0;
  font-size: 12px;
  color: var(--muted);
}

/* Skill list: 2 columns desktop, 1 column mobile */
.skills-list{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}

@media (max-width: 820px){
  .skills-list{
    grid-template-columns: 1fr;
  }
}

/* Individual skill item */
.skill-item{
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.10);
  padding: 12px;
  display:flex;
  gap: 12px;
  align-items:flex-start;
  justify-content:space-between;
}

/* left stripe for status */
.skill-item::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width: 4px;
  background: rgba(127,138,163,0.75);
  opacity: 0.95;
}

/* Support either classes OR data attributes */
.skill-item.is-not-learned::before{ background: rgba(127,138,163,0.85); }
.skill-item.is-learning::before{ background: var(--warn); }
.skill-item.is-confident::before{ background: var(--ok); }

.skill-item[data-status="not"]::before,
.skill-item[data-skill-status="not"]::before,
.skill-item[data-status="not-learned"]::before{ background: rgba(127,138,163,0.85); }

.skill-item[data-status="learning"]::before,
.skill-item[data-skill-status="learning"]::before{ background: var(--warn); }

.skill-item[data-status="confident"]::before,
.skill-item[data-skill-status="confident"]::before{ background: var(--ok); }

.skill-main{
  min-width: 0;
  flex: 1;
}

.skill-name{
  font-weight: 850;
  font-size: 13px;
  letter-spacing: .1px;
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.25;
}

.skill-notes{
  margin-top: 6px;
  font-size: 12px;
  color: var(--muted);
  line-height: 1.35;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Right side controls */
.skill-controls{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap: 8px;
  flex-shrink: 0;
}

/* Status selector (if you use a <select>) */
.skill-status{
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.04);
  color: var(--text);
  font-size: 12px;
  cursor:pointer;
  max-width: 210px;
}

/* If you implement status as 3 mini buttons */
.status-group{
  display:flex;
  gap: 6px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

.status-btn{
  font-size: 12px;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.88);
  cursor:pointer;
  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
  user-select:none;
  white-space: nowrap;
}
.status-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,0.06); }
.status-btn:active{ transform: translateY(0); }

.status-btn.is-active[data-status="not"],
.status-btn.is-active[data-status="not-learned"]{
  background: var(--status-not-bg);
  border-color: var(--status-not-bd);
  box-shadow: 0 0 0 3px rgba(127,138,163,0.10);
}

.status-btn.is-active[data-status="learning"]{
  background: var(--status-learning-bg);
  border-color: var(--status-learning-bd);
  box-shadow: 0 0 0 3px rgba(255,176,32,0.10);
}

.status-btn.is-active[data-status="confident"]{
  background: var(--status-conf-bg);
  border-color: var(--status-conf-bd);
  box-shadow: 0 0 0 3px rgba(56,217,150,0.10);
}

/* Small action buttons for skill row */
.skill-actions{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

/* Make “Add Skill” row feel consistent */
.skills-add-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-top: 12px;
}

/* Optional: compact back button */
.back-btn{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 9px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  cursor:pointer;
  transition: background 0.15s ease, border-color 0.15s ease, transform 0.15s ease;
}
.back-btn:hover{
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.12);
  transform: translateY(-1px);
}
.back-btn:active{ transform: translateY(0); }

/* If you show “X / Y confident” inside detail view */
.skills-summary-line{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
  justify-content:flex-start;
}

/* Skill item status pill (if used) */
.skill-pill{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.86);
  white-space: nowrap;
}
.skill-pill--not{ border-color: var(--status-not-bd); background: var(--status-not-bg); }
.skill-pill--learning{ border-color: var(--status-learning-bd); background: var(--status-learning-bg); }
.skill-pill--confident{ border-color: var(--status-conf-bd); background: var(--status-conf-bg); }

/* Make sure long category/skill labels never break layout */
.skill-cat__name,
.skill-name{
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Nicer touch targets on mobile */
@media (max-width: 820px){
  .skill-item{ padding: 12px; }
  .skill-controls{ align-items:flex-start; }
  .skills-detail-header{ flex-direction: column; align-items:flex-start; }
  .skills-add-row{ flex-direction: column; align-items: stretch; }
  .skills-add-row .primary-btn,
  .skills-add-row .ghost-btn{ width: 100%; }
}

/* =========================
   Part K: Privacy Mode
========================= */
.is-private .money-chip strong,
.is-private .cost,
.is-private .fund-sub,
.is-private .progress__bar{
  filter: blur(6px);
  opacity: 0.75;
}

.is-private .progress{
  opacity: 0.65;
}

/* =========================
   Part L: Toasts + Motion
========================= */
.toast-wrap{
  position: fixed;
  right: 16px;
  bottom: 16px;
  display: grid;
  gap: 10px;
  z-index: 12000;
}

.toast{
  width: min(360px, calc(100vw - 32px));
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02)), var(--panel);
  box-shadow: 0 18px 60px rgba(0,0,0,0.55);
  padding: 12px;
  display:flex;
  gap: 10px;
  align-items:flex-start;
}

.toast__title{ font-weight: 850; font-size: 13px; margin: 0; }
.toast__msg{ margin: 4px 0 0; color: var(--muted); font-size: 12px; line-height: 1.35; }
.toast__dot{ width: 10px; height: 10px; border-radius: 50%; margin-top: 4px; }
.toast--ok .toast__dot{ background: var(--ok); }
.toast--warn .toast__dot{ background: var(--warn); }
.toast--danger .toast__dot{ background: var(--danger); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; scroll-behavior: auto !important; }
}

/* Grid wrapper hide */
.is-hidden { display: none !important; }

/* Room detail show/hide */
#roomDetail { display: none; }
#roomDetail.is-visible { display: block; }

.room-detail__cols {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}
@media (max-width: 900px) {
  .room-detail__cols { grid-template-columns: 1fr; }
}

/* =========================================================
   Life Admin — style.css (M → S additions)
   Paste this at the VERY END of your existing style.css
   (do not remove your current CSS — this is an add-on)
   ========================================================= */

/* =========================
   Part N — Search highlight
   ========================= */
.search-results{
  position: absolute;
  right: 0;
  top: calc(100% + 10px);
  width: min(520px, calc(100vw - 24px));
  max-height: 420px;
  overflow: auto;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)), var(--panel);
  box-shadow: 0 18px 60px rgba(0,0,0,0.55);
  padding: 10px;
  z-index: 1000;
}

.search-results__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding: 6px 6px 10px;
}

.search-results .list__item{
  cursor:pointer;
  transition: transform 0.12s ease, border-color 0.12s ease, background 0.12s ease;
}

.search-results .list__item:hover{
  transform: translateY(-1px);
  border-color: rgba(255,138,31,0.22);
  background: rgba(255,255,255,0.05);
}

/* Highlighted item after navigating from search */
.is-search-hit{
  border-color: rgba(255,138,31,0.40) !important;
  box-shadow: 0 0 0 3px rgba(255,138,31,0.14), var(--shadow) !important;
  background: rgba(255,138,31,0.10) !important;
}
.is-search-hit::before{ background: rgba(255,138,31,0.95) !important; }

/* Optional “pulse” animation (safe, respects reduced motion) */
@keyframes hitPulse{
  0%{ box-shadow: 0 0 0 0 rgba(255,138,31,0.25); }
  100%{ box-shadow: 0 0 0 10px rgba(255,138,31,0.0); }
}
.is-search-hit.is-pulse{
  animation: hitPulse 900ms ease-out 1;
}

@media (prefers-reduced-motion: reduce){
  .is-search-hit.is-pulse{ animation: none !important; }
}

/* =========================
   Part M — Backup history UI
   ========================= */
#backupHistoryList .list__item{
  align-items: flex-start;
}

.backup-row{
  display:flex;
  gap: 12px;
  align-items:flex-start;
  justify-content:space-between;
}

.backup-meta{
  display:flex;
  flex-direction:column;
  gap: 4px;
  min-width: 0;
}

.backup-title{
  font-weight: 850;
  font-size: 13px;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.backup-sub{
  font-size: 12px;
  color: var(--muted);
}

.backup-actions{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

/* =========================
   Part P — Notification status
   ========================= */
#notifPermissionMsg{
  line-height: 1.45;
}

#btnRequestNotifPermission[disabled],
#btnTestNotification[disabled],
#btnPreviewBundle[disabled]{
  opacity: 0.55;
  cursor: not-allowed;
}

/* =========================
   Part Q — Integrity & recovery
   ========================= */
#integrityBadge.badge--danger{
  border-color: rgba(255,91,91,0.45);
  background: rgba(255,91,91,0.14);
}
#integrityBadge.badge--warn{
  border-color: rgba(255,176,32,0.40);
  background: rgba(255,176,32,0.14);
}

/* Recovery / confirm modals (same structure as your existing modal) */
#confirmRestoreModal .modal__dialog,
#recoveryModal .modal__dialog{
  width: min(640px, calc(100% - 24px));
}

/* =========================
   Part R — Future Home ownership/buying
   ========================= */

/* Make “Owned / Next to buy / Planned” chips consistent if you render them */
.home-tag{
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.86);
  white-space: nowrap;
}

.home-tag--owned{
  border-color: rgba(56,217,150,0.35);
  background: rgba(56,217,150,0.12);
}
.home-tag--next{
  border-color: rgba(255,176,32,0.35);
  background: rgba(255,176,32,0.12);
}
.home-tag--planned{
  border-color: rgba(127,138,163,0.35);
  background: rgba(127,138,163,0.12);
}

/* Shopping list card within Home */
#homeShoppingCard .list__item{
  cursor: default;
}

.shopping-row{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}

.shopping-main{
  min-width: 0;
}

.shopping-title{
  font-weight: 850;
  font-size: 13px;
  overflow-wrap:anywhere;
  word-break: break-word;
}

.shopping-meta{
  color: var(--muted);
  font-size: 12px;
  margin-top: 4px;
  line-height: 1.35;
}

.shopping-cost{
  font-weight: 850;
  font-size: 13px;
  white-space: nowrap;
  opacity: 0.95;
}

.shopping-actions{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

/* =========================
   Part S — Skills growth blocks
   ========================= */
#skillsMilestones{
  gap: 10px;
}

.milestone-pill{
  font-size: 12px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.88);
  white-space: nowrap;
}
.milestone-pill--ok{
  border-color: rgba(56,217,150,0.35);
  background: rgba(56,217,150,0.12);
}
.milestone-pill--neutral{
  border-color: rgba(127,138,163,0.35);
  background: rgba(127,138,163,0.12);
}

#skillsTrendCanvas{
  width: 100%;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.12);
}

/* =========================
   Dashboard intelligence cards (Part O)
   ========================= */
#thisWeekList .list__item,
#focusSuggestionList .list__item,
#monthlyWinsList .list__item{
  background: rgba(0,0,0,0.10);
}

/* Subtle “good vibe” emphasis for monthly wins */
#monthlyWinsSummary .money-chip{
  border-color: rgba(56,217,150,0.22);
  background: rgba(56,217,150,0.08);
}

/* =========================
   Safety: hide duplicates if any remain
   (If you accidentally kept both old/new Home blocks,
    this prevents totally broken layouts.)
   ========================= */

/* If both exist, prefer the newer roomDetail */
#roomPanel{ display:none !important; }

/* If you accidentally duplicated #homeStats/#roomsGrid in HTML,
   only the first will be used by JS; duplicates can still exist.
   This can’t fully “fix” duplicate IDs, but reduces visual chaos. */

   /* =========================================================
   Life Admin — Part T → Z UI styles
   Paste at the VERY END of style.css
   ========================================================= */

/* =========================
   Global helper tokens
   ========================= */
:root{
  --soft: rgba(255,255,255,0.04);
  --soft-2: rgba(255,255,255,0.06);
  --soft-3: rgba(255,255,255,0.08);

  --kbd: 0 0 0 3px rgba(255,138,31,0.14);
  --glass: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.015));
}

/* =========================
   U.2 Reduced motion (manual toggle)
   Add/remove .reduce-motion on <body>
   ========================= */
.reduce-motion *{
  transition: none !important;
  animation: none !important;
  scroll-behavior: auto !important;
}

/* =========================
   U.3 Simplify UI (overwhelm guardrails)
   Add/remove .simplify-ui on <body>
   - hides non-essential/extra panels
   ========================= */
.simplify-ui .card--stat .card__hint,
.simplify-ui .admin-alerts,
.simplify-ui #monthlyWinsSummary,
.simplify-ui #focusSuggestionList,
.simplify-ui #skillsTrendCanvas,
.simplify-ui .muted--pad{
  display:none !important;
}

/* Calm Mode can also soften contrast */
.calm-mode{
  --shadow: 0 10px 26px rgba(0,0,0,0.30);
}
.calm-mode .card,
.calm-mode .topbar{
  background: var(--glass), var(--panel-2);
}
.calm-mode .list__item{
  background: rgba(0,0,0,0.09);
}

/* =========================
   T.1 Money month picker + overview
   ========================= */
.money-toolbar{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
  justify-content:space-between;
  margin-bottom: 10px;
}

.money-toolbar__left{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
}

.money-month{
  display:flex;
  gap: 8px;
  align-items:center;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
}
.money-month label{
  font-size: 12px;
  color: rgba(255,255,255,0.78);
}
.money-month select{
  border: 0;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 12px;
}

.money-kpis{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
  margin-bottom: 12px;
}
.money-kpi{
  display:flex;
  flex-direction:column;
  gap: 4px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  min-width: 160px;
}
.money-kpi__label{
  font-size: 12px;
  color: var(--muted);
}
.money-kpi__value{
  font-weight: 900;
  letter-spacing: .2px;
  font-size: 16px;
}
.money-kpi__value.ok{ color: var(--ok); }
.money-kpi__value.warn{ color: var(--warn); }
.money-kpi__value.danger{ color: var(--danger); }

/* =========================
   T.2 Transactions table
   ========================= */
.table{
  width:100%;
  border-collapse: collapse;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.10);
}

.table th, .table td{
  padding: 10px 10px;
  text-align:left;
  font-size: 12px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  vertical-align: top;
}

.table th{
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  background: rgba(255,255,255,0.03);
  font-weight: 800;
  letter-spacing: .2px;
}

.table td .muted{
  font-size: 12px;
}

.table tr:hover td{
  background: rgba(255,255,255,0.03);
}

.amount{
  font-weight: 900;
  white-space: nowrap;
}
.amount.neg{ color: var(--danger); }
.amount.pos{ color: var(--ok); }
.amount.neutral{ color: rgba(255,255,255,0.88); }

/* Transaction filters row */
.tx-filters{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
  margin-bottom: 10px;
}
.tx-filters .select select{
  border-radius: 12px;
}

/* =========================
   T.3 Goal forecasting callout
   ========================= */
.forecast{
  border-radius: 16px;
  border: 1px solid rgba(255,138,31,0.18);
  background: rgba(255,138,31,0.06);
  padding: 12px;
}
.forecast__title{
  margin: 0;
  font-weight: 900;
  font-size: 13px;
}
.forecast__text{
  margin: 6px 0 0;
  font-size: 12px;
  color: rgba(255,255,255,0.80);
  line-height: 1.4;
}
.forecast__text strong{ color: var(--text); }

/* =========================
   V. Update banner (PWA update flow) + offline badge
   ========================= */
.update-banner{
  display:none;
  position: sticky;
  top: 12px;
  z-index: 11000;
  margin-bottom: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,176,32,0.22);
  background: rgba(255,176,32,0.08);
  padding: 12px;
  box-shadow: var(--shadow);
}
.update-banner.is-visible{ display:flex; }
.update-banner__content{
  display:flex;
  gap: 12px;
  align-items:flex-start;
  justify-content:space-between;
  width:100%;
}
.update-banner__title{
  margin: 0;
  font-weight: 900;
  font-size: 13px;
}
.update-banner__msg{
  margin: 4px 0 0;
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  line-height: 1.35;
}
.update-banner__actions{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content:flex-end;
}

.net-badge{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  white-space: nowrap;
}
.net-badge .dot{ width: 8px; height: 8px; }
.net-badge.is-offline{ border-color: rgba(255,91,91,0.30); background: rgba(255,91,91,0.10); }

/* =========================
   W. Privacy warnings / safety cards
   ========================= */
.warn-card{
  border-radius: 16px;
  border: 1px solid rgba(255,176,32,0.26);
  background: rgba(255,176,32,0.07);
  padding: 12px;
}
.warn-card__title{
  margin: 0;
  font-weight: 900;
  font-size: 13px;
}
.warn-card__text{
  margin: 6px 0 0;
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  line-height: 1.4;
}
.warn-card__text strong{ color: var(--text); }

/* =========================
   X. Notifications settings panel
   ========================= */
.notif-settings{
  display:grid;
  gap: 12px;
}

.segment{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.seg-btn{
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.88);
  font-size: 12px;
  cursor:pointer;
  transition: transform 120ms ease, background 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
  user-select:none;
}
.seg-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,0.06); }
.seg-btn.is-active{
  border-color: rgba(255,138,31,0.35);
  background: rgba(255,138,31,0.10);
  box-shadow: 0 0 0 3px rgba(255,138,31,0.10);
}

.quiet-hours{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
}
.quiet-hours .field__control{
  width: 140px;
}

/* Calm Mode reduces notif emphasis visually */
.calm-mode .seg-btn.is-active{
  box-shadow: none;
}

/* =========================
   Y. Vault locked UI (encrypted vault)
   ========================= */
.vault-shell{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.10);
  padding: 14px;
}

.vault-locked{
  display:flex;
  flex-direction:column;
  gap: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,91,91,0.22);
  background: rgba(255,91,91,0.08);
  padding: 12px;
}
.vault-locked__title{
  margin: 0;
  font-size: 13px;
  font-weight: 900;
}
.vault-locked__text{
  margin: 0;
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  line-height: 1.4;
}

.vault-unlocked{
  display:grid;
  gap: 10px;
}

.vault-item{
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.10);
  padding: 12px;
}
.vault-item__title{
  margin: 0;
  font-size: 13px;
  font-weight: 900;
}
.vault-item__meta{
  margin-top: 6px;
  font-size: 12px;
  color: var(--muted);
  line-height: 1.35;
}

/* Encrypted blob display (for export/import UX) */
.vault-blob{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 11px;
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 14px;
  padding: 10px;
  overflow:auto;
  max-height: 240px;
  color: rgba(255,255,255,0.86);
}

/* =========================
   Z. Cloud sync UI (Firebase)
   ========================= */
.sync-row{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items:center;
  justify-content:space-between;
}

.sync-status{
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  font-size: 12px;
  color: rgba(255,255,255,0.82);
  white-space: nowrap;
}
.sync-status .dot{ width: 8px; height: 8px; }

.sync-status.is-on{ border-color: rgba(56,217,150,0.30); background: rgba(56,217,150,0.10); }
.sync-status.is-off{ border-color: rgba(127,138,163,0.28); background: rgba(127,138,163,0.10); }
.sync-status.is-warn{ border-color: rgba(255,176,32,0.30); background: rgba(255,176,32,0.10); }

.conflict-badge{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,176,32,0.35);
  background: rgba(255,176,32,0.12);
  color: rgba(255,255,255,0.90);
  white-space: nowrap;
}

/* =========================
   Accessibility polish
   ========================= */
/* Make focus more visible on dark surfaces */
*:focus-visible{
  box-shadow: var(--kbd);
}

/* Bigger tap targets in simplify mode */
.simplify-ui .mini-btn,
.simplify-ui .ghost-btn,
.simplify-ui .primary-btn{
  min-height: 44px;
}

/* ============ Layout baseline ============ */
.app {
  display: block;            /* mobile default: stacked */
  min-height: 100vh;
}

/* Sidebar baseline */
.sidebar {
  position: fixed;           /* mobile overlay */
  top: 0;
  left: 0;
  height: 100vh;
  width: 280px;
  transform: translateX(-100%);
  transition: transform 180ms ease;
  z-index: 50;
}

/* When menu is open on mobile */
.sidebar.is-open {
  transform: translateX(0);
}

/* Main content on mobile */
.main {
  min-height: 100vh;
  padding: 16px;            /* whatever you like */
}

/* Optional: stop weird clipping */
.main,
.view,
.card,
.panel {
  overflow: visible;
  max-height: none;
}

/* ============ Desktop layout ============ */
@media (min-width: 900px) {
  .app {
    display: grid;
    grid-template-columns: 280px 1fr;
    align-items: start;
  }

  /* Sidebar becomes part of the grid (NOT overlay) */
  .sidebar {
    position: sticky;
    top: 0;
    transform: none !important;
    height: 100vh;
    z-index: 1;
  }

  /* Kill the overlay “open/closed” behaviour on desktop */
  .sidebar.is-open {
    transform: none !important;
  }

  /* Main content sits beside sidebar */
  .main {
    padding: 24px;
    min-width: 0;            /* IMPORTANT: prevents flex/grid overflow */
  }
}

/* Stop Skills cards stretching to match tallest card */
#view-skills .grid--panels {
  align-items: start;
}

html.no-anim * { transition: none !important; animation: none !important; }
html.privacy-blur .money, html.privacy-blur .amount, html.privacy-blur [data-amount] { filter: blur(6px); }
html.high-contrast { filter: contrast(1.15); }
html.simplify-ui .muted { opacity: 0.9; }

.money-pill{
  display:inline-flex;
  gap:8px;
  align-items:baseline;
  padding:8px 10px;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:14px;
  margin-right:8px;
  margin-bottom:8px;
}

/* --- Groceries page helpers --- */
.add-row{
  display:grid;
  grid-template-columns: 1fr 180px 110px;
  gap:10px;
  align-items:center;
}
@media (max-width: 640px){
  .add-row{ grid-template-columns: 1fr; }
  .add-row button{ width:100%; }
}

.filters-row{
  margin-top:12px;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
.chip-group{ display:flex; gap:8px; flex-wrap:wrap; }

.chip{
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  color: inherit;
  padding:8px 10px;
  border-radius: 999px;
  cursor:pointer;
  font-size:.9rem;
}
.chip.is-active{
  border-color: rgba(255,255,255,.22);
  background: rgba(255,255,255,.08);
}

.mini-select{
  min-width: 160px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
@media (max-width: 640px){
  .grid2{ grid-template-columns: 1fr; }
}

.field{ display:flex; flex-direction:column; gap:6px; }
.field__label{ font-size:.9rem; }
.empty{ margin-top:10px; }

/* =========================
   Vault (Life Admin)
   ========================= */
.vault-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap:14px;
}

.vault__warning{
  margin-top:12px;
  padding:10px 12px;
  border-radius:12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  font-size: 0.95rem;
  line-height: 1.3;
}